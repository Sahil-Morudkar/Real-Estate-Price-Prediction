<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/css/style.css" >

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <title>Real Estate Price Prediction!</title>
  </head>
  <body>
    <main id="main">
        <h1 id="title">Real Estate Price Prediction</h1>
        <p id="click">Just with a Click</p>
    </main>
    <div class="container">
       <header class="header">
        <h1 id="title1" class="text-center">Enter your requirements</h1>
        <p id="description" class="description text-center">

        </p>
     </header>
     <form method="post" id="survey-form" accept-charset="utf-8">
       <div class="form-group">
           <label><b>UNDER_CONSTRUCTION</b></label>
             <select
                name="Under_Construction"
                id="Under_Construction"
                class=" selectpicker form-control"
                required = "1">

                 {% for Under_Construction in UNDER_CONSTRUCTION  %}
                 <option value="{{Under_Construction}}">{{Under_Construction}}

                 </option>
                 {% endfor %}
             </select>
       </div>
       <div class="form-group">
           <label><b>Rera Approved?</b></label>
             <select
                name="Rera_Approved"
                id="Rera_Approved"
                class=" selectpicker form-control"
                required = "1">
                 {% for Rera_Approved in RERA  %}
                 <option value="{{Rera_Approved}}">{{Rera_Approved}}

                 </option>
                 {% endfor %}
             </select>
       </div>
       <div>
           <label><b>BHK_OR_RK</b></label>
             <select
                name="Bhk_Or_Rk"
                 id="Bhk_Or_Rk"
                class=" selectpicker form-control"
                required = "1">
                 {% for Bhk_Or_Rk in BHK_OR_RK %}
                 <option value="{{Bhk_Or_Rk}}">{{Bhk_Or_Rk}}

                 </option>
                 {% endfor %}
             </select>
       </div>
       <div class="form-group">
            <label><b>BHK_NO.</b></label>
             <input
                type = "text"
                name="BHK_NO."
                 id="BHK_NO."
                class=" selectpicker form-control"
                placeholder="Enter number of bedrooms"
             >
       </div>
       <div class="form-group">
            <label><b>Square_ft. Area</b></label>
             <input
                type = "text"
                name="Square_ft"
                 id="Square_ft"
                class=" selectpicker form-control"
                placeholder="Enter square ft. area"
             >
       </div>
       <div class="form-group">
           <label><b>READY_TO_MOVE</b></label>
             <select
                name="Ready_to_move"
                 id="Ready_to_move"
                class=" selectpicker form-control"
                required = "1">
                 {% for Ready_to_move in READY_TO_MOVE  %}
                 <option value="{{Ready_to_move}}">{{Ready_to_move}}

                 </option>
                 {% endfor %}
             </select>
       </div>
       <div class="form-group">
            <label><b>Longitude</b></label>
             <input
                type = "text"
                name="Longitude"
                 id="Longitude"
                class=" selectpicker form-control"
                placeholder="Enter longitude co-ordinates."
             >
       </div>
       <div class="form-group">
            <label><b>Latitude</b></label>
             <input
                type = "text"
                name="Latitude"
                 id="Latitude"
                class=" selectpicker form-control"
                placeholder="Enter latitude co-ordinates."
             >
       </div>
       <div class="form-group" style = "text-align:center">
           <button class = "btn btn-primary form-control" onclick="send_data()"> Predict Price </button>
       </div>
     </form>
     <br>
     <div class="row">
         <div class="col-12" style="text-align: center">
             <h3 style="color:white"><span id="prediction"></span></h3>
         </div>

     </div>
    </div>
    <script>
        function form_handler(event)
        {
        event.preventDefault();
        }

        function send_data()
        {
        document.querySelector('form').addEventListener('submit', form_handler);
        var fd = new FormData(document.querySelector('form'));

        var xhr = new XMLHttpRequest();
        xhr.open('POST','/predict', true);
        document.getElementById("prediction").innerHTML="WAIT!..";
        xhr.onreadystatechange = function()
        {
            if(xhr.readyState == XMLHttpRequest.DONE)
            {
                document.getElementById("prediction").innerHTML ="PREDICTION (Price in Lakhs): â‚¹" + xhr.responseText;
            }
        }
        xhr.onload = function(){};
        xhr.send(fd);

        }
    </script>



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
    -->
  </body>
</html>